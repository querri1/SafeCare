<!--æˆå°±å¾½ç« é¡µé¢-->
<navigation-bar title="" back="{{true}}" color="black" background="#FFF"></navigation-bar>

<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <!-- æœªç™»å½•æç¤º -->
    <view class="login-prompt" wx:if="{{!hasLogin}}">
      <view class="prompt-icon">ğŸ”’</view>
      <text class="prompt-title">è¯·å…ˆç™»å½•</text>
      <text class="prompt-desc">ç™»å½•åå³å¯æŸ¥çœ‹æ‚¨çš„æˆå°±å¾½ç« </text>
      <button class="btn-login" bindtap="goToLogin">å‰å¾€ç™»å½•</button>
    </view>

    <!-- å·²ç™»å½•å†…å®¹ -->
    <block wx:if="{{hasLogin}}">
      <!-- æˆå°±ç»Ÿè®¡ -->
      <view class="stats-section">
        <view class="stats-item">
          <text class="stats-number">{{unlockedCount}}/{{achievements.length}}</text>
          <text class="stats-label">å·²è·å¾—æˆå°±</text>
        </view>
        <view class="stats-item">
          <text class="stats-number">{{consecutiveDays}}</text>
          <text class="stats-label">è¿ç»­æ‰“å¡</text>
        </view>
        <view class="stats-item">
          <text class="stats-number">{{totalCheckins}}</text>
          <text class="stats-label">æ€»æ‰“å¡æ¬¡æ•°</text>
        </view>
      </view>

      <!-- æˆå°±åˆ—è¡¨ -->
      <view class="achievements-section">
        <view class="section-title">æˆ‘çš„æˆå°±</view>
        <view class="achievements-grid">
          <view 
            class="achievement-item {{item.unlocked ? 'achievement-unlocked' : 'achievement-locked'}}"
            wx:for="{{achievements}}" 
            wx:key="id"
          >
            <view class="achievement-icon">{{item.icon}}</view>
            <text class="achievement-name">{{item.name}}</text>
            <text class="achievement-desc">{{item.desc}}</text>
            <view class="achievement-progress">
              <view class="progress-bar">
                <view class="progress-fill" style="width: {{item.current >= item.target ? 100 : (item.current / item.target * 100)}}%"></view>
              </view>
              <text class="progress-text">{{item.current}}/{{item.target}}</text>
            </view>
            <view class="achievement-badge" wx:if="{{item.unlocked}}">âœ“</view>
          </view>
        </view>
      </view>
    </block>
  </view>
</scroll-view>

